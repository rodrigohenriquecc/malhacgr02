/* Reset básico --------------------------------------------------- */
* { box-sizing: border-box; margin:0; padding:0; }
body { font-family: Arial, sans-serif; }
h1   { background:#2c3e50; color:#fff; padding:.6rem 1rem;
       font-size:1.2rem; }

/* Layout flex: sidebar + mapa ----------------------------------- */
#container { display:flex; height:calc(100vh - 52px); }

#sidebar{
  width:280px; min-width:240px; max-width:320px;
  background:#f8f9fa; border-right:1px solid #ccc;
  padding:0.5rem 0.75rem; overflow-y:auto;
}
#sidebar h2{ font-size:1rem; margin-bottom:.5rem; }

#sidebar fieldset{
  border:1px solid #ccc; margin-bottom:.75rem; padding:.4rem .5rem;
}
#sidebar legend{ font-weight:600; padding:0 .2rem; }
#sidebar label{ display:block; font-size:.85rem; margin:2px 0; }

#road-search{
  width:100%; margin-bottom:.4rem; padding:.25rem .4rem;
  border:1px solid #aaa; border-radius:4px;
  font-size:.85rem;
}

#map{ flex:1; }  /* ocupa todo o resto */

/* Mobile: sidebar vira topo ------------------------------------- */
@media (max-width:600px){
  #container{ flex-direction:column; }
  #sidebar{ width:100%; max-height:45vh; border-right:none; border-bottom:1px solid #ccc; }
  #map{ height:55vh; flex:none; }
}

.rod-label {
  background: #fff;
  padding: 2px 6px;
  border-radius: 4px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.15);
  font-weight: bold;
  border: 1px solid #bbb;
  color: #222;
  font-size: 15px;
  white-space: nowrap;
  pointer-events: none;
}

/* Regras responsivas adicionais para melhorar UX mobile */
@media (max-width: 900px) {
  /* Filtro fixo no topo, maior e fácil de tocar */
  #rodovia-filter {
    left: 8px !important;
    right: 8px !important;
    top: 8px !important;
    width: auto !important;
    min-width: unset !important;
    padding: 10px !important;
    display: flex !important;
    gap: 8px;
    align-items: center;
    justify-content: space-between;
    box-shadow: 0 8px 24px rgba(0,0,0,0.18);
    border-radius: 10px;
    font-size: 15px;
    z-index: 14000;
    max-width: calc(100% - 16px);
    touch-action: manipulation;
  }
  #rodovia-filter label { display:block; width:100%; font-size:14px; margin-bottom:6px; }
  #rodovia-filter select { min-width: 0; width: 100%; padding:10px; font-size:15px; }
  #rodovia-filter button { padding:8px 10px; font-size:14px; }

  /* Map ocupa a maior parte da tela (visual foco) */
  #map { height: calc(100vh - 116px) !important; }

  /* Painéis de informação (card + planilha) ficam mais largos e legíveis */
  #rodovia-metadata-card {
    left: 8px !important;
    right: 8px !important;
    bottom: 72px !important;
    min-width: unset !important;
    max-width: calc(100% - 16px) !important;
    padding: 12px !important;
    font-size: 14px;
    z-index: 14000;
  }

  #malha-xlsx-panel {
    left: 8px !important;
    right: 8px !important;
    bottom: 8px !important;
    max-width: calc(100% - 16px) !important;
    min-width: unset !important;
    padding: 10px !important;
    font-size: 14px;
    z-index: 14000;
    max-height: 36vh !important;
  }

  /* Tornar a tabela mais legível em mobile */
  #malha-xlsx-table-container table { font-size: 13px; }
  #malha-xlsx-table-container th, #malha-xlsx-table-container td { padding: 8px 6px; }
}

/* Ajustes específicos para telefones bem pequenos */
@media (max-width: 420px) {
  #rodovia-filter { padding: 8px; font-size: 14px; }
  #rodovia-filter select { font-size: 14px; padding: 8px; }
  #rodovia-metadata-card, #malha-xlsx-panel { font-size: 13px; padding: 8px; }
  #map { height: calc(100vh - 160px) !important; }
}
